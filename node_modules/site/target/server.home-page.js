"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./shared.manifest"),t=s(require("./shared.main")),r=s(require("./server.main")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("./shared.static"));function s(e){return e&&e.__esModule?e:{default:e}}var o,u=function(e){return null!=e},i=function(e,t,r,a){return e(t)[r](t,...a)};exports.default=(o=Symbol(),class{constructor(e,t,r,a){((e,t,r,a)=>(()=>{this.path=e,this.request=t,this.response=r,this.context=a})())(e,t,r,a)}process(){return(()=>(()=>{var e,s,u;return e=t.default.fullLit(this[o]()),s={},t.default.headText(this.path,s,e),u={language:e.$languages[0],title:s.title,description:s.description,keywords:s.keywords,htmlAttributes:r.default.homePageHtmlAttributes,beforeScript:r.default.homePageBeforeScript,afterScript:r.default.homePageAfterScript},this.response.statusCode=200,this.response.setHeader("Content-Type","application/xhtml+xml"),this.response.end(a.generatePage(u))})())()}[o](){return(()=>(()=>{var r,a;return r=t.default.lits,void 0===(a=u(this.request.headers["accept-language"])?(()=>i(e.dotDot_573300145710716007,this.request.headers["accept-language"].split(",").map(e=>(()=>{var t;return{tag:(t=e.split(";"))[0].trim(),q:u(t[1])?(()=>parseFloat(t[1].split("=")[1]))():1}})()),"sortDescending",[e=>(()=>e.q)()]).map(e=>(()=>e.tag)()))():void 0)?(()=>t.default.selectLit(t.default.defaultLanguage))():(()=>"*"!==a[0]&&u(r)?(()=>(()=>{var s,o;return s=null,i(e.dotDot_573300145710716007,a,"forEach",[t=>(()=>(i(e.dotDot_573300145710716007,r,"forEach",[r=>(()=>(i(e.dotDot_573300145710716007,r.$languages,"forEach",[a=>(()=>t.toLowerCase()===a.toLowerCase()||t.toLowerCase().startsWith(a.toLowerCase()+"-")?(()=>(s=r,e.break))():void 0)()]),u(s)?(()=>e.break)():void 0))()]),u(s)?(()=>e.break)():void 0))()]),void 0===(o=s)||null===o?t.default.selectLit(t.default.defaultLanguage):o})())():(()=>u(r)?(()=>t.default.selectLit(t.default.defaultLanguage))():(()=>(0,e.fail)())())())()})())()}});